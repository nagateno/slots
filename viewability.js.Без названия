(function(){function f(){}function a(c){this.callbackUrl=c;this.viewed=!1;this.timer=null;this.initChecker()}f.prototype.isChromium=function(){var c=-1<navigator.userAgent.toLowerCase().indexOf("edge"),b=-1<navigator.userAgent.indexOf("Chrome"),a=-1<navigator.userAgent.toLowerCase().indexOf("op");return!c&&(b||a)};f.prototype.createCallbackPixel=function(c){var a=document.createElement("img");a.src=c;a.style.cssText="height: 1px; width: 1px; display: none;";document.body.appendChild(a)};a.prototype.CHECK_INTERVAL=
70;a.prototype.TRIGGER_VIEW_TIME=1E3;a.prototype.VIEWABILITY_METHODS={INTERSECTION:"Intersection Observer",MOZ_INNER_SCREEN:"mozInnerScreen",REQUEST_ANIMATION_FRAME:"Request animation frame"};a.prototype.helpers=new f;a.prototype.getCheckingMethod=function(){if(window.IntersectionObserver)return this.VIEWABILITY_METHODS.INTERSECTION;if(window.mozInnerScreenY&&window.mozInnerScreenX)return this.VIEWABILITY_METHODS.MOZ_INNER_SCREEN;if(this.helpers.isChromium())return this.VIEWABILITY_METHODS.REQUEST_ANIMATION_FRAME};
a.prototype.initChecker=function(){switch(this.getCheckingMethod()){case this.VIEWABILITY_METHODS.INTERSECTION:this.initIntersectionChecker();break;case this.VIEWABILITY_METHODS.MOZ_INNER_SCREEN:this.initMozChecker();break;case this.VIEWABILITY_METHODS.REQUEST_ANIMATION_FRAME:this.initRequestAnimationFrameChecker()}};a.prototype.startTimer=function(a){this.timer=setTimeout(function(){"function"===typeof a&&a()}.bind(this),this.TRIGGER_VIEW_TIME)};a.prototype.resetTimer=function(){clearTimeout(this.timer);
this.timer=null};a.prototype.initIntersectionChecker=function(){var a=new window.IntersectionObserver(function(b){(b=.5<=b[0].intersectionRatio)&&!this.timer?this.startTimer(function(){this.triggerView();a.disconnect()}.bind(this)):b||this.viewed||this.resetTimer()}.bind(this),{threshold:.5});a.observe(document.body)};a.prototype.initRequestAnimationFrameChecker=function(){function a(){70>Date.now()-d&&this.triggerView()}var b=function(){var a=document.createElement("iframe");a.src="about:blank";
a.height="1";a.width="1";a.frameBorder=0;a.style.cssText="position: absolute; top: 50%; left: 50%; visibility: hidden; z-index: -1;";document.body.appendChild(a);return a.contentWindow}(),e=b.requestAnimationFrame.bind(b),d=Date.now(),g=function(){this.timer||this.viewed||this.startTimer(a.bind(this));Date.now()-d>this.CHECK_INTERVAL&&(this.resetTimer(),this.startTimer(a.bind(this)));this.viewed||e(g);d=Date.now()}.bind(this);e(g)};a.prototype.initMozChecker=function(){function a(){var b=window.screenY+
window.outerHeight,b=window.screenY+55<window.mozInnerScreenY+window.innerHeight/2&&window.mozInnerScreenY+window.innerHeight/2<b,d=window.screenX,c=d+window.outerWidth;return d<window.mozInnerScreenX+window.innerWidth/2&&window.mozInnerScreenX+window.innerWidth/2<c&&b}var b=setInterval(function(){var e=a();e&&!this.timer?this.startTimer(function(){this.triggerView();clearInterval(b)}.bind(this)):e||this.viewed||this.resetTimer()}.bind(this),this.CHECK_INTERVAL)};a.prototype.triggerView=function(){this.viewed=
!0;this.helpers.createCallbackPixel(this.callbackUrl)};new a(window.__rtgViewability.url)})();
//@ sourceMappingURL=viewability.js.map